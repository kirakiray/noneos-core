<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>get ofa.js</title>
  </head>
  <div id="result">pending</div>
  <button onclick="clearSw()">Clear Services Worker</button>
  <body>
    <script type="module">
      import { ready, clear } from "/_sw.js";

      const registration = await ready;

      console.log("registration: ", registration);

      // import ofa from "https://cdn.jsdelivr.net/gh/kirakiray/ofa.js@4.6.12/dist/ofa.min.mjs";
      // import ofa from "/gh/kirakiray/ofa.js/dist/ofa.mjs";
      // import ofa from "/gh/kirakiray/ofa.js/packages/ofa/main.mjs";

      try {
        const { default: ofa } = await import(
          "/gh/kirakiray/ofa.js/packages/ofa/main.mjs"
        );

        document.getElementById("result").textContent = "success";
      } catch (error) {
        document.getElementById("result").textContent = "failed";
        console.error("Error loading ofa.js:", error);
      }

      window.clearSw = clear;
    </script>
  </body>
</html>
