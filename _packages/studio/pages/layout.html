<template page>
  <l-m src="/nos/n-icon/n-icon.html"></l-m>
  <style>
    :host {
      display: block;
      height: 100%;
    }

    .container {
      display: flex;
      height: 100%;
    }

    .left-bar {
      width: 56px;
      border-right: 1px solid rgba(132, 132, 132, 0.2);
    }

    .left-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      /* height: 56px; */
      height: 40px;
      margin: 8px;
      border-radius: 8px;
      font-size: 22px;
      color: var(--md-sys-color-normal);
      cursor: pointer;
    }

    .left-btn:hover {
      background-color: var(--md-ref-palette-translucent-normal60);
    }

    .left-btn.active {
      background-color: var(--md-sys-color-primary-container);
      color: var(--md-sys-color-on-primary-container);
    }

    .main {
      position: relative;
      height: 100%;
      flex: 1;
    }
  </style>
  <div class="container">
    <div class="left-bar">
      <div class="left-btn" class:active="activeName === 'start'">
        <n-icon icon="material-symbols:add-ad"></n-icon>
      </div>
      <div class="left-btn" class:active="activeName === 'settings'">
        <n-icon icon="material-symbols:settings"></n-icon>
      </div>
      <div class="left-btn" class:active="activeName === 'dashboard'">
        <n-icon icon="material-symbols:dashboard-outline-rounded"></n-icon>
      </div>
    </div>
    <div class="main">
      <div
        style="position: absolute; top: 0; bottom: 0; width: 100%; height: 100%"
      >
        <slot></slot>
      </div>
    </div>
  </div>
  <script>
    export default async ({ load }) => {
      return {
        data: {
          activeName: "",
        },
        proto: {},
        ready() {
          this.on("active-page", ({ data }) => {
            this.activeName = data.name;
          });
        },
      };
    };
  </script>
</template>
